<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test</title>
    <link rel="stylesheet" href="sections.css">
</head>
<body>
    <main id="main">
        <!-- <div class="section" id="section-{{ section.id }}" style="background-color: hsl({{ section.color }}, 100%, 50%);">
            <span>{{ section.title }}</span>
            <button onclick="deleteSection({{ section.id }})">Delete</button>
        </div> -->
    </main>

    <input type="text" maxlength="50" name="title" id="title">
    <button>Add</button>
    <br>
    <button onclick="updateSections()">update</button>
    <script>
        const main = document.getElementById("main");
        function updateSections(){
            fetch(`https://moonwillsing.pythonanywhere.com/section/`).then(res => res.json()).then(data => {
                console.log(data);
            })
        }
        function deleteSection(id){
            fetch(`https://moonwillsing.pythonanywhere.com/section/${id}`, {method: "DELETE"}).then(res => {
                if(res.status == 200)document.getElementById(`section-${id}`).remove()
            })
        }
    </script>
</body>
</html>